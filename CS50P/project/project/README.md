# Telegram emulator
#### Video Demo:  <https://youtu.be/Dl2qLHbYO-0>
#### Description:
Hello to all. This is my final project in the course CS50P After solving the exercises that were done during the course and uploading them one after the other, it was time to create a final project, and I decided to create a demo of the Telegram platform. Here is a small example of Telegram with the difference that we can write the messages we send in colors (red, green, yellow, blue and purple). It is true that it is a small project of Telegram. The difference here is that the messages are colored and this can be an initial idea to improve the Telegram platform. In this platform, in the first step, it tells the user that there is a Telegram simulator and asks the names of the users who want to send a message to their contacts with this platform. After entering the person's name, it shows a welcome message to the user, and next to this welcome message, it also shows the date and time of the user's entry. In the meantime, it asks the user to write his message or to leave that line empty and go to the next line to get out of sending the message. If the user does not send a message and it comes out, it shows that the user has not written any message, but if he writes his message. It shows the message. It also shows the number of people who are among the contacts of these people. If the user has entered the platform for the first time, then he has no contacts and the number of contacts is empty, and the user is asked to whom to send that message. Therefore, he must enter contacts on the platform for himself. There is no limit to its number. First it asks the name and then the number of that person. When the user doesn't want to enter contacts anymore, he leaves the name of the contact person blank, he also exits from adding contacts to the platform and the platform names all users with a number and asks the user to specify the contact number by entering the contact number. To whom the message should be sent and if that person is not in the audience. exits the platform. If the user who enters has already entered the platform, he asks for its name and then sends the message. We can also send text, stickers and numbers in this message. Now, after writing the message, the user is asked what color he wants his message to be sent in, and the user can choose one of the colors. Denoted. By sending the color list number, the user specifies what color he likes. Also, the user can send a multi-piece message. If the user does not want to send a message, they enter the next step and specify the person to whom the message should be sent, and the person enters the number of the contact list.  Therefore, the message is sent along with the time and date. Apart from these changes that we made, when entering Telegram, a message is displayed that has two options. The first option is for people who want to register on the platform, and the second option is for people who have already registered and want to enter the platform, which is possible with a username, and they proceed with the rest of the steps. And if a user wants to choose option 2 with a new username, he will be asked to register. Therefore, in the first selection of each person, the user's name, surname, and mobile number are not visible when entering and entering the selections, so that the numbers of the persons are not visible, but the number is applied and the current list is clear. After that, users should enter the date of birth in terms of year, month and day of birth. In the next line, users must choose a valid password for their platform. If they choose a simple password, a message will be sent to them. This password must contain uppercase letters, numbers, and characters, and it must be at least 8 in length. Finally, by filling all the fields, the user is registered in the environment and can send a color message or add contacts to his contact list. Also, if they don't fill only one of the fields, the system will give a message that filling all the fields is mandatory, and the user will be logged out, and the user must complete the registration from the beginning. In my final project, a series of modules and codes were used for all the explanations I mentioned above, and their explanations are as follows: import getpass: Imports the getpass module, which provides a secure way to read passwords from the user without displaying them on the screen. import re: Imports the re module, which provides support for regular expressions. import json: Imports the json module, which provides functions for working with JSON data. import sys: Imports the sys module, which provides access to some variables used or maintained by the interpreter and to functions that interact with the interpreter. import io: Imports the io module, which provides the Python interfaces to stream handling. import emoji: Imports the emoji module, which provides functions for working with emojis. import datetime: Imports the datetime module, which provides classes for manipulating dates and times. CONTACTS_FILE = "contacts.json": Defines a constant variable CONTACTS_FILE with the value "contacts.json", which represents the file name used to store contacts. sys.stdout = io.TextIOWrapper(sys.stdout.buffer, encoding='utf-8'): Sets the standard output to use an io.TextIOWrapper with UTF-8 encoding. This is done to support printing emojis correctly. def main():: Defines a function named main that serves as the entry point of the program. print("Telegram Bot Simulation"): Prints the string "Telegram Bot Simulation". print("1. Register"): Prints the string "1. Register". print("2. Enter the platform"): Prints the string "2. Enter the platform". choice = input("Enter your choice: "): Prompts the user to enter their choice and stores the input in the variable choice. if choice == '1': Checks if the value of choice is equal to the string '1'. register_user(): Calls the function register_user() if the above condition is true. elif choice == '2': Checks if the value of choice is equal to the string '2'. enter_platform(): Calls the function enter_platform() if the above condition is true. else:: Executes if none of the above conditions are true. print("Invalid choice. Please try again."): Prints the string "Invalid choice. Please try again." def register_user():: Defines a function named register_user(). name = input("Enter your name: "): Prompts the user to enter their name and stores the input in the variable name. surname = input("Enter your surname: "): Prompts the user to enter their surname and stores the input in the variable surname.  mobile_number = getpass.getpass("Enter your mobile number: "): Prompts the user to enter their mobile number using the getpass.getpass() function, which hides the input from the screen.  date_of_birth = input("Enter your date of birth (YYYY-MM-DD): "): Prompts the user to enter their date of birth in the format "YYYY-MM-DD" and stores the input in the variable date_of_birth. password = getpass.getpass("Enter your password: "): Prompts the user to enter their password using the getpass.getpass() function, which hides the input from the screen. if not name or not surname or not mobile_number or not date_of_birth or not password:: Checks if any of the input fields are empty.  print("Error: All fields must be filled."): Prints the string "Error: All fields must be filled." if the above condition is true. return: Exits the function if the above condition is true. if not is_valid_password(password):: Checks if the password is valid by calling the is_valid_password() function. print("Error: Password must have at least 8 characters and contain both uppercase letters and numbers."): Prints the string "Error: Password must have at least 8 characters and contain both uppercase letters and numbers." if the above condition is true. return: Exits the function if the above condition is true. user = {: Defines a dictionary named user with the following key-value pairs: 'name': The value of the name variable.'surname': The value of the surname variable. 'mobile_number': The value of the mobile_number variable.'date_of_birth': The value of the date_of_birth variable. 'password': The value of the password variable.  with open(CONTACTS_FILE, 'a') as f:: Opens the file specified by CONTACTS_FILE in append mode and assigns it to the variable f. The with statement ensures that the file is properly closed after the block of code is executed. json.dump(user, f) Writes the JSON representation of the user dictionary to the file f.  print("User registered successfully!"): Prints the string "User registered successfully!". def is_valid_password(password):: Defines a function named is_valid_password that takes a password parameter. if len(password) < 8 or not any(c.isupper() for c in password) or not any(c.isdigit() for c in password):: Checks if the password length is less than 8 characters or if it does not contain both uppercase letters and numbers. return False: Returns False if the above condition is true. return True: Returns True if the above condition is not true, indicating that the password is valid. def enter_platform():: Defines a function named enter_platform().  mobile_number = getpass.getpass("Enter your mobile number: "): Prompts the user to enter their mobile number using the getpass.getpass() function, which hides the input from the screen.  password = getpass.getpass("Enter your password: "): Prompts the user to enter their password using the getpass.getpass() function, which hides the input from the screen. if not mobile_number or not password:: Checks if either the mobile number or password is empty.  print("Error: Mobile number and password are required."): Prints the string "Error: Mobile number and password are required." if the above condition is true.  return: Exits the function if the above condition is true.  with open(CONTACTS_FILE, 'r') as f:: Opens the file specified by CONTACTS_FILE in read mode and assigns it to the variable f. The with statement ensures that the file is properly closed after the block of code is executed.  contacts = json.load(f): Loads the JSON data from the file f and assigns it to the variable contacts.  for contact in contacts:: Iterates over each contact in the contacts list. if contact['mobile_number'] == mobile_number and contact['password'] == password:: Checks if the current contact's mobile number and password match the input values.  print(f"Welcome, {contact['name']} {contact['surname']}!"): Prints a welcome message with the contact's name and surname. return: Exits the function if the above condition is true.  print("Invalid mobile number or password."): Prints the string "Invalid mobile. Def register_user(): Defines a function named register_user().  name = input("Enter your name: "): Prompts the user to enter their name and stores the input in the variable name. surname = input("Enter your surname: "): Prompts the user to enter their surname and stores the input in the variable surname.  mobile_number = getpass.getpass("Enter your mobile number: "): Prompts the user to enter their mobile number using the getpass.getpass() function, which hides the input from the screen.  date_of_birth = input("Enter your date of birth (YYYY-MM-DD): "): Prompts the user to enter their date of birth in the format "YYYY-MM-DD" and stores the input in the variable date_of_birth.  password = getpass.getpass("Enter your password: "): Prompts the user to enter their password using the getpass.getpass() function, which hides the input from the screen. if not name or not surname or not mobile_number or not date_of_birth or not password:: Checks if any of the input fields are empty. print("Error: All fields must be filled."): Prints the string "Error: All fields must be filled." if the above condition is true. return: Exits the function if the above condition is true. if not is_valid_password(password):: Checks if the password is valid by calling the is_valid_password() function. print("Error: Password must have at least 8 characters and contain both uppercase letters and numbers."): Prints the string "Error: Password must have at least 8 characters and contain both uppercase letters and numbers." if the above condition is true. return: Exits the function if the above condition is true. user = {: Defines a dictionary named user with the following key-value pairs: 'name': The value of the name variable. 'surname': The value of the surname variable. 'mobile_number': The value of the mobile_number variable. 'date_of_birth': The value of the date_of_birth variable. 'password': The value of the password variable. with open(CONTACTS_FILE, 'a') as f:: Opens the file specified by CONTACTS_FILE in append mode and assigns it to the variable f. The with statement ensures that the file is properly closed after the block of code is executed. json.dump(user, f) Writes the JSON representation of the user dictionary to the file f. print("User registered successfully!"): Prints the string "User registered successfully!". def is_valid_password(password):: Defines a function named is_valid_password that takes a password parameter. if len(password) < 8 or not any(c.isupper() for c in password) or not any(c.isdigit() for c in password):: Checks if the password length is less than 8 characters or if it does not contain both uppercase letters and numbers. return False: Returns False if the above condition is true. return True: Returns True if the above condition is not true, indicating that the password is valid. def enter_platform():: Defines a function named enter_platform().  mobile_number = getpass.getpass("Enter your mobile number: "): Prompts the user to enter their mobile number using the getpass.getpass() function, which hides the input from the screen. password = getpass.getpass("Enter your password: "): Prompts the user to enter their password using the getpass.getpass() function, which hides the input from the screen. if not mobile_number or not password:: Checks if either the mobile number or password is empty. print("Error: Mobile number and password are required."): Prints the string "Error: Mobile number and password are required." if the above condition is true. return: Exits the function if the above condition is true. with open(CONTACTS_FILE, 'r') as f:: Opens the file specified by CONTACTS_FILE in read mode and assigns it to the variable f. The with statement ensures that the file is properly closed after the block of code is executed. contacts = json.load(f): Loads the JSON data from the file f and assigns it to the variable contacts. for contact in contacts:: Iterates over each contact in the contacts list. if contact['mobile_number'] == mobile_number and contact['password'] == password:: Checks if the current contact's mobile number and password match the input values.  print(f"Welcome, {contact['name']} {contact['surname']}!"): Prints a welcome message with the contact's name and surname. return: Exits the function if the above condition is true. print("Invalid mobile number or password."): Prints the string "Invalid mobile. The is_valid_password(password) function checks whether a password is valid or not. It uses a regular expression pattern to enforce the password requirements: at least 8 characters, containing both uppercase letters and numbers.    The greet_user(name) function takes a name parameter and returns a greeting message with the provided name. The calculate_sum(a, b) function takes two numbers, a and b, and returns their sum. The is_even(number) function checks whether a given number is even or not. It returns True if the number is even and False otherwise. The read_contacts() function attempts to open a file (presumably storing contacts) and load the contacts data from it using the json.load() method. If the file is not found, it returns an empty dictionary. The save_contacts(contacts) function takes a dictionary of contacts and saves it to a file using the json.dump() method. It assumes the file is named CONTACTS_FILE. The add_contact(user_name) function allows a user to add contacts. It reads the existing contacts, prompts the user to enter a contact name and mobile number, and appends the contact to the user's contacts list. It then saves the updated contacts and displays the user's contacts. It also prompts the user to select a contact index to send a message to. The choose_color() function presents a list of color options to the user and prompts them to choose a color by entering the corresponding number. It returns the chosen color number. The enter_platform() function simulates user interaction with a platform. It prompts the user to enter their name and displays a welcome message with the current time. It then enters a loop where the user can input messages and choose colors for each message. The messages, along with their send times, are stored in a list. After the loop ends, the messages are displayed, and the user is prompted to select a contact index to send a message to. If the user has contacts, it displays the contacts and allows them to select a contact index and send a message. If the user has no contacts, it prompts them to add a contact. The colorize_message(message, color) function takes a message and a color number and applies color formatting to the message using ANSI escape codes. It also adds the current send time to the message. The colored message is returned. The send_message(contact, message) function simulates sending a message to a contact. It prints a message indicating that the message has been sent to the specified contact. The script also includes a few lines outside the function definitions: if __name__ == "__main__": is a common Python idiom that checks if the script is being run as the main entry point. If so, it calls a main() function, which is not defined in the given code snippet. All these descriptions are related to the file project.py and for file test_project.py: a unit test script written using the unit test module in Python. It tests three functions greet_user, calculate_sum, and is_even from a module named project. Here's a breakdown of the code: The import unittest statement imports the unittest module, which provides classes and methods for writing unit tests in Python. The from project import greet_user, calculate_sum, is_even statement imports the greet_user, calculate_sum, and is_even functions from a module named project. These functions are the ones being tested.     The class TestProject(unittest.TestCase): statement defines a test case class named TestProject that inherits from unittest.TestCase. This class will contain individual test methods. The def test_greet_user(self): defines a test method named test_greet_user. The method calls the greet_user function with the argument "John!" and assigns the result to the result. It then uses the self.assertEqual() method to check if the result is equal to the expected value "Hello, John! How can I assist you today?".  The def test_calculate_sum(self): defines a test method named test_calculate_sum. The method calls the calculate_sum function with the arguments 2 and 3 and assigns the result to result. It then uses the self.assertEqual() method to check if the result is equal to the expected value 5. The def test_is_even(self): defines a test method named test_is_even. The method calls the is_even function with the argument 4 and assigns the result to result1. It uses the self.assertTrue() method to check if result1 is True. It then calls the is_even function with the argument 7 and assigns the result to result2. It uses the self.assertFalse() method to check if result2 is False. The if __name__ == '__main__': condition checks if the script is being run as the main entry point. If so, it executes the following code. The unittest.main() function runs the tests defined in the TestProject class and displays the test results. In summary, the code defines a test case class with three test methods that check the correctness of the greet_user, calculate_sum, and is_even functions from the project module. Running the script executes the tests and displays the results.